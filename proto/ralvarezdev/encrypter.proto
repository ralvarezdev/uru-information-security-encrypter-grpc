syntax = "proto3";

package ralvarezdev;

service Encrypter {
    // Upload a file using streaming
    rpc EncryptFile(stream EncryptFileRequest) returns (EncryptFileResponse);

    // Generate certificate
    rpc GenerateCertificate(GenerateCertificateRequest) returns (stream GenerateCertificateResponse);
}

message EncryptFileRequest {
    bytes content = 1;
    string filename = 2;
}

message EncryptFileResponse {
    bool success = 1;
    string message = 2;
    int64 bytes_received = 3;
}

message GenerateCertificateRequest {
  string common_name = 1;
  string organization = 2;
  string organizational_unit = 3;
  string locality = 4;
  string state = 5;
  string country = 6;
}

message GenerateCertificateResponse {
    bytes content = 1;
}